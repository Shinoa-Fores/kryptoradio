---
layout: layout
---

<h2 id="general">Technology</h2>
<p>The software part of this project consists of two separate applications: serializer and deserializer. The former connects to the the
bitcoin network, receives transactions and blocks, then puts them into
a queue, which is then processed according to given priorities and finally serialized to a stream of bytes. The result is
passed to transmitter. On the other end, a tuner is connected to the deserializer,
which parses the incoming stream and emulates a bitcoin node serving transactions and blocks to all connected bitcoin nodes.
</p>

<img style="margin-bottom: 15px; margin-top: -20px;"
     src="images/bitcoin_broadcasting_graph.png"
     title="Illustration of Kryptoradio components." />

<p>Unlike many other radio technologies, DVB-T is very flexible
platform. We can start with very scarce bandwidth and scale up
later. When the block sizes grow in the future, we can broadcast it
without any interruptions. Handling of <strong>10 megabyte
blocks</strong> in the future is not an issue. We can also embed many
kinds of other data to the stream. What do you think about receiving
your favourite <strong>IRC channel via Digital TV</strong>?</p>

<h3 id="done">Current status</h3>

<h4 id="software">The software</h4>

<p>Kryptoradio encoder and decoder are programmed in Haskell. Bitcoin
data source is programmed in C (gnu99) and depends on Glib, LibSSL and
Linux. Some data sources are written in POSIX shell. All source code
is licensed
under <a href="https://www.gnu.org/licenses/why-affero-gpl.html"
title="Explanation of GNU AGPL">GNU AGPLv3+</a>. The sources are
available at
<a href="https://github.com/zouppen/bitcoin-broadcast">GitHub</a>.

<p>In production:</p>

<ul>
<li>Kryptoradio encoder supports multiple data sources</li>
<li>Bitcoin bandwidth optimization. We are optimizing the blocks by
referencing to already sent transactions by their tx id, and does not
retransmit them in a new block. The receiver assembles the block,
keeping it compatible with all bitcoin clients. (This is probably the
first implementation which solves a
<a href="https://en.bitcoin.it/wiki/Scalability#Network">
known scalability problem</a> of bitcoin.)</li>
<li>Broadcasting of Bitstamp full order book and trade data</li>
<li>Broadcasting BitPay Bitcoin Best Bid in multiple currencies</li>
<li><a href="http://en.wikipedia.org/wiki/Zlib">Zlib</a> compression of transaction and block data. Compression ratio on real data is about 1.25.</li>
</ul>
<p>Not yet finished:</p>
<ul>
<li>Bitcoin data source should be compatible with the current encoder</li>
<li>Proper bitcoin transaction prioritization based on the predicted queue position.</li>
<li>Serial traffic signing. The receiver needs to be sure that the data has not been forged.</li>
<li>Better error handling in receiver</li>
</ul>

<h4 id="contracts">Distribution contracts and legal questions</h4>

<a href="http://www.digita.fi/files/705/Kanavanippu_E.pdf">
  <img id="finland"
       src="images/digita_mux_e.png"
       title="Coverage map of Digita E multiplex. Remake of original." />
</a>

<p>We have successfully finished negotiations for pilot stage (test
transmissions) in Finland using Digita's nationwide DVB-T network. The
pilot stage is executed during two months when the signal is
broadcasted 24 hours a day over densely populated areas of
Finland. Channel group E is selected for pilot stage. Click the map on
the right for more information. (Map source:
<a href="http://fi.wikipedia.org/wiki/Tiedosto:Suomi.karttapohja.svg">
Wikipedia</a>) For detailled coverage, see Digita's
<a href="http://www.digita.fi/kuluttajat/karttapalvelu/tv_n_karttapalvelu">
coverage map</a>.</p>

<p>After a successful pilot stage our plan is to raise funds for
continuous (24/7) distribution in the whole country and possibly in
other parts of the world, too.</p>
